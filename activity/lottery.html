<!DOCTYPE html>
<html>
<head>
	<title>Document</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="format-detection" content="email=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="applicable-device" content="mobile">
<meta name="format-detection" content="telephone=no">
<script>if(/MSIE (6.0|7.0|8.0)/.test(navigator.userAgent)) { location.href = location.protocol + '//m.feiniu.com/nonsupport.html'; }   </script>

	<link rel="stylesheet" type="text/css" href="../assets/css/common/vendor.css">
	<link rel="stylesheet" type="text/css" href="../assets/css/activity/lottery.css">
</head>
<body>

<div class="fn-container">
	<div class="module">

	<div class="fn-activity-lottery pt10" fnp="LotteryPlugin" fnp-options="{
		canvasCoverPath: '../assets/images/activity/lottery-cavans-cover.png'
	}">
		<div class="rule-dialog">
			<div class="dialog-content">
				<h3 class="dialog-title">规则说明</h3>
				<i class="close activity-icon" data-role="rule-dialog-close">&#xe61f</i>
				<div class="text">规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说明规则说则说明规则说明!</div>
			</div>
		</div>

		<div class="slim-content">
			<h3 class="title">客官今日还有 <span class="ht">2</span> 次刮奖机会</h3>
			<div class="info">
				<span class="fl">万店通用，尽享折上折</span>
				<span class="fr" data-role="rule-trigger"><i class="activity-icon">&#xe61c;</i>&nbsp;&nbsp;查看规则</span>
			</div>

			<div class="state state-begin" data-role="state" state="begin">
				<img class="bg" src="../assets/images/activity/lottery-begin.png">
				<div class="btns"><a class="btn" data-role="beginTrigger">我要刮</a></div>
			</div>

			<div class="state state-success dn" data-role="state" state="success">
				<img class="bg" src="../assets/images/activity/lottery-success.png">
				<div class="btns"><a class="btn">继续刮</a></div>
			</div>

			<div class="state state-fail dn" data-role="state" state="fail">
				<img class="bg" src="../assets/images/activity/lottery-fail.png">
				<div class="btns"><a class="btn">继续刮</a></div>
			</div>

			<div class="state state-action dn" data-role="state" state="action">
				<i class="before"></i>
				<i class="after"></i>
				<div class="inner">
					<div class="canvas" data-role="canvas" style="background-image: url(../assets/images/activity/lottery-cavans-bg.png);"></div>
				</div>
			</div>

			<a class="my-coupon" href="javascript:;">
				<div class="fl"><i class="activity-icon">&#xe61b;</i>&nbsp;我的购物券</div>
				<span class="fr activity-icon">&#xe605;</span>
			</a>
		</div>
	</div>



</div>

</div>

<script type="text/javascript" id="requirejs" base-path="../assets/" src="../assets/require.js"></script>
<script type="text/javascript" src="../assets/require-config.js"></script>

<script type="text/javascript">
require(['fnModule/activity/lottery'], function () {
	FN.Radio.fire('app:init');

	const plugin=FN.Plugin.query($('[fnp="LotteryPlugin"]'));

	FN.Radio.on('drowingComplete',() => {
			setTimeout(() => {
				plugin.switchState('success');
			}, 5000);

			plugin.switchState('fail');
			});

		$('[fnp="LotteryPlugin"]').find('[data-role="beginTrigger"]').on('click', () => {
			plugin.switchState('action');
		});

});




</script>
</body>
</html>
